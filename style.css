function toggle(elem) {
  if (elem.classList.contains("bloqueada")) return;

  elem.classList.toggle("tachado");

  const todas = document.querySelectorAll(".materia.bloqueada");
  todas.forEach(materia => {
    const reqs = materia.dataset.prerrequisitos.split(",");
    const ok = reqs.every(id => document.getElementById(id)?.classList.contains("tachado"));
    if (ok) materia.classList.remove("bloqueada");
  });
}
